{% extends "courses_platform/layout.html" %}

{% load static %}

{% block link %}
   <link href="{% static 'courses_platform/components/course-cards.css' %}" rel="stylesheet">
   <link href="{% static 'courses_platform/pages/all_courses.css' %}" rel="stylesheet">
{% endblock %}

{% block script %}
    <script src="{% static 'courses_platform/pages/all-courses.js' %}"></script>
{% endblock %}

{% block body %}
<div id="all-courses-cover" class="all-courses__cover"></div>
   <div class="my-container all-courses__my-container">
      <h1 class="all-courses__h1">Explore All Courses</h1>
      <div class="all-courses__search-cont-cont">
         <div class="all-courses__search-cont">
            <svg class="all-courses__icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
               <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
            </svg>
            <input type="text" name="search-query" id="search-query" class="all-courses__input" placeholder="Course Title">
         </div>
      </div>
      <div id="sort-filter-btn" class="all-courses__filter-btn-cont">
         <button class="custom-button all-courses__filter-btn">
            <svg class="all-courses__icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
               <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
            </svg>
            <span>Sort and Filter<span id="sort-filter-btn-txt-complement"></span></span>
            <svg class="all-courses__icon" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
               <path d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
            </svg>
         </button>
      </div>
      <div class="course-card__cards-grid-wrapper all-courses__cards-wrapper">
         <div class="course-card__cards-grid" id="cards-grid"></div>
      </div>
      <template id="cards-template">
         <a class="course-card__card-anchor" id="card-anchor">
            <div class="course-card__card">
               <img class="course-card__card-img" id="card-img" alt="Course's image">
               <div class="course-card__card-title" id="card-title"></div>
               <div class="course-card__card-description">
                  <div class="course-card__card-duration">
                     <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="course-card__icon" viewBox="0 0 16 16">
                        <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"/>
                        <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"/>
                        <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
                     </svg>
                     <span id="card-duration"></span>
                  </div>
                  <div class="course-card__card-level" id="card-level"></div>
               </div>
            </div>
         </a>
      </template>
      <!--Sort and filter section-->
      <div id="sort-filter-cont" class="sort-filter__cont">
         <button id="sort-filter-close-btn" class="sort-filter__close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="sort-filter__close-icon" viewBox="0 0 16 16">
                <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
            </svg>
        </button>
         <h1 class="sort-filter__h1">Sort and Filter</h1>
         <form action="" method="post" class="sort-filter__form">
            {% csrf_token %}
            <h2 class="sort-filter__h2">Sort</h2>
            <div class="sort-filter__sort-options">
               <input type="radio" id="sort-alphabetical-asc" name="sort-parameter" value="title" checked>
               <label for="sort-alphabetical-asc">Alphabetical A&#8594;Z</label>
            </div>
            <div class="sort-filter__sort-options">
               <input type="radio" id="sort-alphabetical-desc" name="sort-parameter" value="-title">
               <label for="sort-alphabetical-desc">Alphabetical Z&#8594;A</label>
            </div>
            <div class="sort-filter__sort-options">
               <input type="radio" id="sort-most-recent" name="sort-parameter" value="-creation_date">
               <label for="sort-most-recent">Most Recent</label>
            </div>
            <div class="sort-filter__sort-options">
               <input type="radio" id="sort-popularity" name="sort-parameter" value="popularity">
               <label for="sort-popularity">Popularity</label>
            </div>

            <h2 class="sort-filter__h2">Filter</h2>
            <div id="filter-options-cont" class="sort-filter__filter-options-cont">
               <label for="category">Category</label>
               <select name="category" id="category" class="sort-filter__select">
                  <option value="">Select an option</option>
               {% for category in Course.CATEGORY_CHOICES %}
                  <option value="{{category.0}}">{{category.1}}</option>
               {% endfor %}
               </select>

               <label for="duration">Duration</label>
               <select name="duration" id="duration" class="sort-filter__select">
                  <option value="">Select an option</option>
                  <option value="lt-4">Less than 4 weeks</option>
                  <option value="gte-4,lt-8">Between 4 and 8 weeks</option>
                  <option value="gte-8,lt-12">Between 8 and 12 weeks</option>
                  <option value="gte-12"> 12 + weeks</option>
               </select>

               <label for="language">Language</label>
               <select name="language" id="language" class="sort-filter__select">
                  <option value="">Select an option</option>
               {% for language in Course.LANGUAGE_CHOICES %}
                  <option value="{{language.0}}">{{language.1}}</option>
               {% endfor %}
               </select>

               <label for="level">Level</label>
               <select name="level" id="level" class="sort-filter__select">
                  <option value="">Select an option</option>
               {% for level in Course.LEVEL_CHOICES %}
                  <option value="{{level.0}}">{{level.1}}</option>
               {% endfor %}
               </select>
            </div>
            <div class="sort-filter__btn-cont">
               <input id="sort-filter-apply-btn" type="submit" class="custom-button sort-filter__btn" value="Apply">
            </div>
         </form>
      </div>
   </div>
{% endblock %}